<Project>
    <PropertyGroup>
		<Vendor>$(SolutionDir)Vendor</Vendor>
        <TripletStatic>x64-windows-static-md</TripletStatic>
        <TripletDynamic>x64-windows</TripletDynamic>
		<PhysX>$(SolutionDir)Vendor\PhysX</PhysX>
		
		<DisableFastUpToDateCheck>true</DisableFastUpToDateCheck>
		<RunPostBuildEvent>Always</RunPostBuildEvent>
    </PropertyGroup>

    <ItemDefinitionGroup>
        <ClCompile>
            <AdditionalIncludeDirectories>
				$(Vendor)\$(TripletStatic)\include;
				$(Vendor)\$(TripletDynamic)\include;
				$(PhysX)\include;
				$(SolutionDir)Engine;
				$(SolutionDir);
				$(ProjectDir);
				%(AdditionalIncludeDirectories)
			</AdditionalIncludeDirectories>
			<AdditionalOptions>/utf-8 %(AdditionalOptions) </AdditionalOptions>
        </ClCompile>

		<Link>
			<AdditionalOptions>/ignore:4099 %(AdditionalOptions)</AdditionalOptions>
		</Link>
    </ItemDefinitionGroup>

    <ItemDefinitionGroup Condition="'$(Configuration)'=='Debug'">
        <Link>
            <AdditionalLibraryDirectories>
				$(Vendor)\$(TripletStatic)\debug\lib;
				$(Vendor)\$(TripletDynamic)\debug\lib;
				$(PhysX)\lib\debug;
				%(AdditionalLibraryDirectories)
			</AdditionalLibraryDirectories>
			
            <AdditionalDependencies>
				d3d11.lib;
				dxgi.lib;
				d3dcompiler.lib;
				directxtk.lib;
				directxtex.lib;
				imguid.lib;
				assimp-vc143-mtd.lib;
				PhysX_64.lib;
				PhysXCommon_64.lib;
				PhysXCooking_64.lib;
				PhysXFoundation_64.lib;
				PhysXExtensions_static_64.lib;
				PhysXCharacterKinematic_static_64.lib;
				PhysXPvdSDK_static_64.lib;
				%(AdditionalDependencies)
			</AdditionalDependencies>
        </Link>

        <PostBuildEvent>
            <Command>
				xcopy /Y /D "$(Vendor)\$(TripletDynamic)\debug\bin\*.dll" "$(OutDir)"
				xcopy /Y /D "$(PhysX)\bin\debug\*.dll" "$(OutDir)"
				if exist "$(OutDir)Resource" rmdir /S /Q "$(OutDir)Resource"
				if not exist "$(OutDir)Resource" mklink /J "$(OutDir)Resource" "$(SolutionDir)Resource"
				if exist "$(ProjectDir)Shader" xcopy /E /Y /D "$(ProjectDir)Shader" "$(SolutionDir)Resource\Shader\"
			</Command>
		</PostBuildEvent>
	</ItemDefinitionGroup>

    <ItemDefinitionGroup Condition="'$(Configuration)'=='Release'">
        <Link>
            <AdditionalLibraryDirectories>
				$(Vendor)\$(TripletStatic)\lib;
				$(Vendor)\$(TripletDynamic)\lib;
				$(PhysX)\lib\release;
				%(AdditionalLibraryDirectories)
			</AdditionalLibraryDirectories>
			
            <AdditionalDependencies>
				d3d11.lib;
				dxgi.lib;
				d3dcompiler.lib;
				directxtk.lib;
				directxtex.lib;
				imgui.lib;
				assimp-vc143-mt.lib;
				PhysX_64.lib;
				PhysXCommon_64.lib;
				PhysXCooking_64.lib;
				PhysXFoundation_64.lib;
				PhysXExtensions_static_64.lib;
				PhysXCharacterKinematic_static_64.lib;
				PhysXPvdSDK_static_64.lib;
				%(AdditionalDependencies)
			</AdditionalDependencies>
        </Link>

        <PostBuildEvent>
            <Command>
				xcopy /Y /D "$(Vendor)\$(TripletDynamic)\bin\*.dll" "$(OutDir)"
				xcopy /Y /D "$(PhysX)\bin\release\*.dll" "$(OutDir)"
				if exist "$(OutDir)Resource" rmdir /S /Q "$(OutDir)Resource"
				if not exist "$(OutDir)Resource" mklink /J "$(OutDir)Resource" "$(SolutionDir)Resource"
				if exist "$(ProjectDir)Shader" xcopy /E /Y /D "$(ProjectDir)Shader" "$(SolutionDir)Resource\Shader\"
			</Command>
		</PostBuildEvent>
    </ItemDefinitionGroup>
</Project>